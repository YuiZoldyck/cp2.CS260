{"ast":null,"code":"import _objectSpread from \"/Users/betasan/CS260/code/cp3.CS260/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.index-of.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'ProductList',\n  props: {\n    products: Array\n  },\n  methods: {\n    removeFromCart: function removeFromCart(product_id) {\n      var result = this.$root.$data.cart.find(function (res) {\n        if (res.id == product_id) {\n          return res.id;\n        }\n      });\n\n      if (result) {\n        for (var i = this.$root.$data.cart.length - 1; i >= 0; i--) {\n          if (this.$root.$data.cart[i].id == product_id && this.$root.$data.cart[i].quantity > 1) {\n            var newFoodObject = _objectSpread(_objectSpread({}, this.$root.$data.cart[i]), {}, {\n              quantity: this.$root.$data.cart[i].quantity - 1\n            });\n\n            this.$set(this.$root.$data.cart, i, newFoodObject);\n          }\n\n          if (this.$root.$data.cart[i].id == product_id && this.$root.$data.cart[i].quantity == 1) {\n            this.$delete(this.$root.$data.cart, this.$root.$data.cart.indexOf(result));\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACAA,qBADA;AAEAC;AACAC;AADA,GAFA;AAKAC;AACAC,kBADA,0BACAC,UADA,EACA;AAEA;AACA;AACA;AACA;AACA,OAJA;;AAMA;AACA;AACA;AACA,gEACA,wBADA;AAEAC;AAFA;;AAIA;AACA;;AACA;AACA;AACA;AACA;AACA;AAGA;AAzBA;AALA","names":["name","props","products","methods","removeFromCart","product_id","quantity"],"sourceRoot":"src/components","sources":["CartList.vue"],"sourcesContent":["<template>\n<div class=\"wrapper\">\n  <div class=\"products\">\n    <div class=\"product\" v-for=\"product in products\" :key=\"product.id\">\n      <div class=\"info\">\n        <h1>{{product.name}}</h1>\n      </div>\n      <div class=\"image\">\n        <img :src=\"'/images/products/'+product.image\">\n      </div>\n      <div class=\"quantity\">\n        <p>Quantity: {{product.quantity}}</p>\n      </div>\n      <div class=\"price\">\n        <p>\n        <font size=\"-3\">THB</font> {{product.price}} <br>\n        Total: <font size=\"-3\">THB</font> {{product.total = product.price * product.quantity}}</p>\n        <button class=\"auto\" @click=\"removeFromCart(product.id)\">Remove</button>\n      </div>\n    </div>\n    \n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'ProductList',\n  props: {\n    products: Array,\n  },\n  methods: {\n    removeFromCart(product_id) {\n\n      let result = this.$root.$data.cart.find((res) => {\n        if (res.id == product_id) {\n          return res.id;\n        }\n      });\n\n      if (result) {\n        for (let i = this.$root.$data.cart.length-1; i >= 0; i--) {\n          if (this.$root.$data.cart[i].id == product_id && this.$root.$data.cart[i].quantity > 1){\n            const newFoodObject = {\n              ...this.$root.$data.cart[i],\n              quantity: this.$root.$data.cart[i].quantity - 1,\n            };\n            this.$set(this.$root.$data.cart, i, newFoodObject);\n          }\n          if (this.$root.$data.cart[i].id == product_id && this.$root.$data.cart[i].quantity == 1) {\n            this.$delete(this.$root.$data.cart, this.$root.$data.cart.indexOf(result));\n          }\n        }\n      }\n\n      \n    } \n  }\n}\n</script>\n\n<style scoped>\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.products {\n  margin-top: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n}\n.product {\n  margin: 10px;\n  margin-top: 50px;\n  width: 200px;\n}\n.product img {\n  border: 2px solid #333;\n  height: 250px;\n  width: 200px;\n  object-fit: cover;\n}\n.product .image {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 5px;\n}\n.info {\n  background: #FFEAE5;\n  color: #8F7261;\n  padding: 10px 30px;\n  height: 80px;\n}\n.info h1 {\n  font-size: 15px;\n  text-align: center;\n}\n.info h2 {\n  font-size: 14px;\n}\n.info p {\n  margin: 0px;\n  font-size: 10px;\n}\n.price {\n  display: flex;\n}\n\n.price h2 {\n  font-size: 0.9 em;\n  align-content: center;\n}\n\n.price p {\n  font-size: 0.7em;\n  align-content: center;\n}\n\n.quantity p{\n  font-size: 0.9em;\n\n}\n\nbutton {\n  height: 50px;\n  width: 50%;\n  background: #fff7da;\n  color: #8D7263;\n  border: 1px solid black;\n\n}\n\n.auto {\n  margin-left: auto;\n}\n</style>"]},"metadata":{},"sourceType":"module"}